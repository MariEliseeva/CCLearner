plugins {
    id 'java'
}
version 'CCL_Test'

sourceCompatibility = 1.8

task wrapper(type: Wrapper) {
    gradleVersion = "3.0"
}

repositories {
    mavenCentral()
}

configurations {
    // configuration that holds jars to include in the jar
    extraLibs
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    extraLibs "org.deeplearning4j:deeplearning4j-core:1.0.0-beta3"
    extraLibs "org.nd4j:nd4j-native-platform:1.0.0-beta3"
    extraLibs group: 'org.eclipse.jdt', name: 'org.eclipse.jdt.core', version: '3.10.0'
    extraLibs group: 'org.antlr', name: 'antlr4-runtime', version: '4.5'
    configurations.compile.extendsFrom(configurations.extraLibs)
}

jar {
    
    doFirst {
        manifest {
            attributes 'Main-Class': "vt.cs.CCLearner_Test"
        }
        from {
            configurations.extraLibs.collect { it.isDirectory() ? it : zipTree(it) }
        }
    }
    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'
}